<div id="segmentSeriesPage" data-role="page" class="page type-interior pluginConfigurationPage"
     data-require="emby-button"
     data-controller="__plugin/segment_series.js">

    <div data-role="content">
        <div class="content-primary">

            <!-- Breadcrumbs -->
            <div id="breadcrumbContainer"></div>

            <!-- Header -->
            <div class="sectionTitleContainer flex align-items-center">
                <h2 id="pageTitle" class="sectionTitle">Series</h2>
                <button id="btnDetectCreditsSeries" class="raised emby-button" style="margin-left: 1em; display: none;">
                    <span>Detect Credits</span>
                </button>
            </div>

            <!-- Season Coverage Charts -->
            <div class="verticalSection">
                <h3 class="sectionTitle">Season Coverage</h3>
                <div style="background-color: rgba(255, 255, 255, 0.05); padding: 1.5em; border-radius: 4px; margin-bottom: 2em;">
                    <canvas id="seasonChart" style="max-height: 300px;"></canvas>
                </div>
            </div>

            <!-- Filter Controls -->
            <div class="verticalSection" style="margin-bottom: 2em;">
                <div style="display: flex; gap: 1em; align-items: center; flex-wrap: wrap;">
                    <div style="flex: 0 0 auto;">
                        <label for="episodeFilterDropdown" style="margin-right: 0.5em;">Filter:</label>
                        <select id="episodeFilterDropdown" class="emby-select-withcolor emby-select" style="width: 200px;">
                            <option value="all">All</option>
                            <option value="complete">Complete (Both Segments)</option>
                            <option value="missing_intro">Missing Intros</option>
                            <option value="missing_credits">Missing Credits</option>
                            <option value="has_intro">Has Intro</option>
                            <option value="has_credits">Has Credits</option>
                            <option value="no_segments">No Segments</option>
                        </select>
                    </div>
                    <div style="flex: 1 1 300px;">
                        <input id="episodeSearchBox" type="text" class="emby-input" placeholder="Search by episode name..." style="width: 100%; max-width: 400px;" />
                    </div>
                </div>
            </div>

            <!-- Bulk Source Indicator -->
            <div id="bulkSourceBanner" class="verticalSection" style="display: none; margin-bottom: 1.5em;">
                <div style="background-color: rgba(33, 150, 243, 0.15); border: 1px solid #2196F3; border-radius: 4px; padding: 0.75em 1em; display: flex; align-items: center; justify-content: space-between;">
                    <span id="bulkSourceText" style="font-weight: bold;"></span>
                    <button id="btnClearBulkSource" class="raised emby-button" style="margin-left: 1em;">Clear</button>
                </div>
            </div>

            <!-- Season Accordion -->
            <div id="seasonContainer" class="verticalSection">
                <div style="text-align: center; padding: 2em;">Loading season data...</div>
            </div>

        </div>
    </div>

</div>
